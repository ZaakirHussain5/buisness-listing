{% extends './base.html' %}
{% load static %}
{% load tags %}

{% block content %}

        <!-- ============================================================== -->
        <!-- Main wrapper - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <div id="main-wrapper">
		
            <!-- ============================================================== -->
            <!-- Top header  -->
            <!-- ============================================================== -->
            <!-- Start Navigation -->
			{% show_categories %}
			<!-- End Navigation -->
			<div class="clearfix"></div>
			<!-- ============================================================== -->
			<!-- Top header  -->
			<!-- ============================================================== -->
			
			<!-- ========================== Login Section =============================== -->
			<section>
				<div class="container">
					
					<div class="row justify-content-center">
					
						<div class="col-lg-9 col-md-9 col-sm-12">
							<div class="log_wrap">
								<h4>Create A New Account</h4>
								<div class="login-form">
								<form id="signUpForm">
										
									<div class="row">
										<div class="col-lg-4 col-md-12">
											<div class="form-group">
												<label>Name</label>
												<input type="text" class="form-control" name="name" id="name">
											</div>
										</div>
										<div class="col-lg-4 col-md-12">										
											<div class="form-group">
												<label>Email</label>
												<input type="email" class="form-control" name="email" id="email" >
											</div>
										</div>
										<div class="col-lg-4 col-md-12">										
											<div class="form-group">
												<label>Phone Number</label>
												<input type="tel" class="form-control" name="phonenumber" name="phonenumber">
											</div>
										</div>
									</div>
									
									<div class="form-group">
										<label>Username</label>
										<input type="text" class="form-control" name="username">
									</div>
									
									<div class="form-group">
										<label>Password</label>
										<input type="password" class="form-control" name="password">
									</div>
									
									<div class="form-group">
										<button type="submit" class="btn btn-md full-width pop-login">Sign Up</button>
                                    </div>
                                    <div class="mt-4">
                                        <p>Already have an account ? <a href="/signin">Sign In</a></p>
                                    </div>
								</form>
							</div>
							</div>
						</div>

					</div>
					
				</div>
			</section>
			<!-- ========================== Login Section =============================== -->
			
			
			<!-- ============================ Footer Start ================================== -->
			{% include './partials/_footer.html' %}
			<a id="back2Top" class="top-scroll" title="Back to top" href="#"><i class="ti-arrow-up"></i></a>
			

		</div>
		<!-- ============================================================== -->
		<!-- End Wrapper -->
		<!-- ============================================================== -->
{% endblock content %}
{% block script %}
<script>
	$(document).ready(function(){
		$('#signUpForm').submit(function(e){
			e.preventDefault();
			e.stopImmediatePropagation()
			var data = new FormData(this);
			$.ajax({
				url:"/api/user/",
				method:"POST",
				data:data,
				contentType:false,
				processData:false
			}).done(function(res){
				console.log(res);
				alert("Signed up Successfully")
				window.location.href="/login"
			}).fail(function(err){
				console.log(err);
			})
		})
	})
</script>
{% endblock script %}
